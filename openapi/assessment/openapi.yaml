# Generated with protoc-gen-openapi
# https://github.com/googleapis/gnostic/tree/master/apps/protoc-gen-openapi

openapi: 3.0.3
info:
    title: Assessment
    description: 'Representing the link between orchestrator and discovery: Assessing evidences from discovery and sending results to orchestrator'
    version: 0.0.1
paths:
    /v1/assessment/evidences:
        post:
            summary: Assesses the evidence sent by discovery. Part of the public API, also exposed as REST
            operationId: Assessment_AssessEvidence
            parameters:
                - name: evidence
                  in: query
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AssessEvidenceResponse'
    /v1/assessment/results:
        post:
            summary: 'TODO(all): Part of public API because external entities (mainly discoveries) can use it? List the latest set of assessment results. Part of the public API, also exposed as REST'
            operationId: Assessment_ListAssessmentResults
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListAssessmentResultsResponse'
components:
    schemas:
        AssessEvidenceResponse:
            properties:
                status:
                    type: boolean
        ListAssessmentResultsResponse:
            properties:
                results:
                    type: array
                    items:
                        $ref: '#/components/schemas/Result'
        Result:
            properties:
                resource_id:
                    type: string
                compliant:
                    type: boolean
                metric_id:
                    type: integer
                    format: int32
            description: A result resource, representing the result after assessing the cloud resource with id resource_id.
