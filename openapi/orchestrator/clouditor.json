{
  "openapi": "3.0.1",
  "info": {
    "title": "OpenAPI Spec for Istio APIs.",
    "version": "clouditor"
  },
  "components": {
    "schemas": {
      "clouditor.AssessmentResult": {
        "properties": {
          "evidence": {
            "properties": {
              "applicable_metrics": {
                "items": {
                  "format": "int32",
                  "type": "integer"
                },
                "type": "array"
              },
              "id": {
                "description": "the ID in a uuid format",
                "type": "string"
              },
              "raw": {
                "description": "\"raw\" evidence (for the auditor), for example the raw JSON response from the API. This does not follow a defined schema",
                "type": "string"
              },
              "resource": {
                "description": "optional; a semantic representation of the Cloud resource according to our defined ontology. a JSON serialized node of our semantic graph. This may be Clouditor-specific.",
                "properties": {
                  "kind": {
                    "oneOf": [
                      {
                        "description": "Represents a null value.",
                        "enum": [
                          [
                            "NULL_VALUE"
                          ]
                        ],
                        "type": "string"
                      },
                      {
                        "description": "Represents a double value.",
                        "type": "number"
                      },
                      {
                        "description": "Represents a string value.",
                        "type": "string"
                      },
                      {
                        "description": "Represents a boolean value.",
                        "type": "boolean"
                      },
                      {
                        "description": "Represents a structured value.",
                        "properties": {
                          "fields": {
                            "additionalProperties": true,
                            "type": "object"
                          }
                        }
                      },
                      {
                        "description": "Represents a repeated `Value`.",
                        "properties": {
                          "values": {
                            "items": {
                              "type": "object"
                            },
                            "type": "array"
                          }
                        }
                      }
                    ]
                  }
                },
                "type": "object"
              },
              "resource_id": {
                "description": "reference to the resource this evidence was gathered from",
                "type": "string"
              },
              "service_id": {
                "description": "reference to a service this evidence was gathered from",
                "type": "string"
              },
              "timestamp": {
                "description": "TODO: replace with google/type/date.proto",
                "type": "string"
              }
            },
            "type": "object"
          },
          "id": {
            "description": "the ID in a uuid format",
            "type": "string"
          },
          "metric_id": {
            "description": "the ID of the metric it refers to",
            "type": "string"
          },
          "result": {
            "enum": [
              [
                "COMPLIANT",
                "NON_COMPLIANT"
              ]
            ],
            "type": "string"
          },
          "target_value": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "clouditor.AssessmentTool": {
        "description": "Represents an external tool or service that offers assessments according to certain metrics",
        "properties": {
          "available_metrics": {
            "description": "a list of metrics that this tool can assess, referred by their ids",
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "clouditor.DeregisterAssessmentToolRequest": {
        "description": "TODO IDs as string or int32?",
        "properties": {
          "tool_id": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "clouditor.GetAssessmentToolRequest": {
        "properties": {
          "tool_id": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "clouditor.GetMetricResponse": {
        "properties": {
          "metric": {
            "properties": {
              "category": {
                "description": "The reference to control catalog category or domain",
                "type": "string"
              },
              "description": {
                "description": "The description of the metric",
                "type": "string"
              },
              "id": {
                "description": "Required. The unique identifier of the metric.",
                "format": "int32",
                "type": "integer"
              },
              "name": {
                "description": "Required. The human readable name of the metric.",
                "type": "string"
              },
              "range": {
                "description": "The range of this metric. Depending on the scale.",
                "properties": {
                  "range": {
                    "oneOf": [
                      {
                        "description": "used for nomical scale",
                        "properties": {
                          "values": {
                            "items": {
                              "description": "`Value` represents a dynamically typed value which can be either null, a number, a string, a boolean, a recursive struct value, or a list of values. A producer of value is expected to set one of that variants, absence of any variant indicates an error.",
                              "properties": {
                                "kind": {
                                  "oneOf": [
                                    {
                                      "description": "Represents a null value.",
                                      "enum": [
                                        [
                                          "NULL_VALUE"
                                        ]
                                      ],
                                      "type": "string"
                                    },
                                    {
                                      "description": "Represents a double value.",
                                      "type": "number"
                                    },
                                    {
                                      "description": "Represents a string value.",
                                      "type": "string"
                                    },
                                    {
                                      "description": "Represents a boolean value.",
                                      "type": "boolean"
                                    },
                                    {
                                      "description": "Represents a structured value.",
                                      "properties": {
                                        "fields": {
                                          "additionalProperties": true,
                                          "type": "object"
                                        }
                                      }
                                    },
                                    {
                                      "description": "Represents a repeated `Value`.",
                                      "properties": {
                                        "values": {
                                          "items": {
                                            "type": "object"
                                          },
                                          "type": "array"
                                        }
                                      }
                                    }
                                  ]
                                }
                              },
                              "type": "object"
                            },
                            "type": "array"
                          }
                        },
                        "type": "object"
                      },
                      {
                        "description": "used for ordinal scale",
                        "properties": {
                          "values": {
                            "items": {
                              "description": "`Value` represents a dynamically typed value which can be either null, a number, a string, a boolean, a recursive struct value, or a list of values. A producer of value is expected to set one of that variants, absence of any variant indicates an error.",
                              "properties": {
                                "kind": {
                                  "oneOf": [
                                    {
                                      "description": "Represents a null value.",
                                      "enum": [
                                        [
                                          "NULL_VALUE"
                                        ]
                                      ],
                                      "type": "string"
                                    },
                                    {
                                      "description": "Represents a double value.",
                                      "type": "number"
                                    },
                                    {
                                      "description": "Represents a string value.",
                                      "type": "string"
                                    },
                                    {
                                      "description": "Represents a boolean value.",
                                      "type": "boolean"
                                    },
                                    {
                                      "description": "Represents a structured value.",
                                      "properties": {
                                        "fields": {
                                          "additionalProperties": true,
                                          "type": "object"
                                        }
                                      }
                                    },
                                    {
                                      "description": "Represents a repeated `Value`.",
                                      "properties": {
                                        "values": {
                                          "items": {
                                            "type": "object"
                                          },
                                          "type": "array"
                                        }
                                      }
                                    }
                                  ]
                                }
                              },
                              "type": "object"
                            },
                            "type": "array"
                          }
                        },
                        "type": "object"
                      },
                      {
                        "description": "used for metric scale",
                        "properties": {
                          "max": {
                            "description": "Required.",
                            "format": "int64",
                            "type": "integer"
                          },
                          "min": {
                            "description": "Required.",
                            "format": "int64",
                            "type": "integer"
                          }
                        },
                        "type": "object"
                      }
                    ]
                  }
                },
                "type": "object"
              },
              "scale": {
                "description": "The scale of this metric, e.g. categories, ranked data or metric values.",
                "enum": [
                  [
                    "NOMIMAL",
                    "ORDINAL",
                    "METRIC"
                  ]
                ],
                "type": "string"
              }
            },
            "type": "object"
          }
        },
        "type": "object"
      },
      "clouditor.GetMetricsRequest": {
        "properties": {
          "metric_id": {
            "format": "int32",
            "type": "integer"
          }
        },
        "type": "object"
      },
      "clouditor.ListAssessmentToolsRequest": {
        "properties": {
          "metric_id": {
            "description": "filter tools by metric id",
            "type": "string"
          }
        },
        "type": "object"
      },
      "clouditor.ListAssessmentToolsResponse": {
        "properties": {
          "tools": {
            "items": {
              "description": "Represents an external tool or service that offers assessments according to certain metrics",
              "properties": {
                "available_metrics": {
                  "description": "a list of metrics that this tool can assess, referred by their ids",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "description": {
                  "type": "string"
                },
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                }
              },
              "type": "object"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "clouditor.ListMetricsRequest": {
        "type": "object"
      },
      "clouditor.ListMetricsResponse": {
        "properties": {
          "metrics": {
            "items": {
              "description": "A metric resource",
              "properties": {
                "category": {
                  "description": "The reference to control catalog category or domain",
                  "type": "string"
                },
                "description": {
                  "description": "The description of the metric",
                  "type": "string"
                },
                "id": {
                  "description": "Required. The unique identifier of the metric.",
                  "format": "int32",
                  "type": "integer"
                },
                "name": {
                  "description": "Required. The human readable name of the metric.",
                  "type": "string"
                },
                "range": {
                  "description": "The range of this metric. Depending on the scale.",
                  "properties": {
                    "range": {
                      "oneOf": [
                        {
                          "description": "used for nomical scale",
                          "properties": {
                            "values": {
                              "items": {
                                "description": "`Value` represents a dynamically typed value which can be either null, a number, a string, a boolean, a recursive struct value, or a list of values. A producer of value is expected to set one of that variants, absence of any variant indicates an error.",
                                "properties": {
                                  "kind": {
                                    "oneOf": [
                                      {
                                        "description": "Represents a null value.",
                                        "enum": [
                                          [
                                            "NULL_VALUE"
                                          ]
                                        ],
                                        "type": "string"
                                      },
                                      {
                                        "description": "Represents a double value.",
                                        "type": "number"
                                      },
                                      {
                                        "description": "Represents a string value.",
                                        "type": "string"
                                      },
                                      {
                                        "description": "Represents a boolean value.",
                                        "type": "boolean"
                                      },
                                      {
                                        "description": "Represents a structured value.",
                                        "properties": {
                                          "fields": {
                                            "additionalProperties": true,
                                            "type": "object"
                                          }
                                        }
                                      },
                                      {
                                        "description": "Represents a repeated `Value`.",
                                        "properties": {
                                          "values": {
                                            "items": {
                                              "type": "object"
                                            },
                                            "type": "array"
                                          }
                                        }
                                      }
                                    ]
                                  }
                                },
                                "type": "object"
                              },
                              "type": "array"
                            }
                          },
                          "type": "object"
                        },
                        {
                          "description": "used for ordinal scale",
                          "properties": {
                            "values": {
                              "items": {
                                "description": "`Value` represents a dynamically typed value which can be either null, a number, a string, a boolean, a recursive struct value, or a list of values. A producer of value is expected to set one of that variants, absence of any variant indicates an error.",
                                "properties": {
                                  "kind": {
                                    "oneOf": [
                                      {
                                        "description": "Represents a null value.",
                                        "enum": [
                                          [
                                            "NULL_VALUE"
                                          ]
                                        ],
                                        "type": "string"
                                      },
                                      {
                                        "description": "Represents a double value.",
                                        "type": "number"
                                      },
                                      {
                                        "description": "Represents a string value.",
                                        "type": "string"
                                      },
                                      {
                                        "description": "Represents a boolean value.",
                                        "type": "boolean"
                                      },
                                      {
                                        "description": "Represents a structured value.",
                                        "properties": {
                                          "fields": {
                                            "additionalProperties": true,
                                            "type": "object"
                                          }
                                        }
                                      },
                                      {
                                        "description": "Represents a repeated `Value`.",
                                        "properties": {
                                          "values": {
                                            "items": {
                                              "type": "object"
                                            },
                                            "type": "array"
                                          }
                                        }
                                      }
                                    ]
                                  }
                                },
                                "type": "object"
                              },
                              "type": "array"
                            }
                          },
                          "type": "object"
                        },
                        {
                          "description": "used for metric scale",
                          "properties": {
                            "max": {
                              "description": "Required.",
                              "format": "int64",
                              "type": "integer"
                            },
                            "min": {
                              "description": "Required.",
                              "format": "int64",
                              "type": "integer"
                            }
                          },
                          "type": "object"
                        }
                      ]
                    }
                  },
                  "type": "object"
                },
                "scale": {
                  "description": "The scale of this metric, e.g. categories, ranked data or metric values.",
                  "enum": [
                    [
                      "NOMIMAL",
                      "ORDINAL",
                      "METRIC"
                    ]
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "clouditor.RegisterAssessmentToolRequest": {
        "properties": {
          "tool": {
            "properties": {
              "available_metrics": {
                "description": "a list of metrics that this tool can assess, referred by their ids",
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "description": {
                "type": "string"
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              }
            },
            "type": "object"
          }
        },
        "type": "object"
      },
      "clouditor.StoreAssessmentResultRequest": {
        "properties": {
          "result": {
            "properties": {
              "evidence": {
                "properties": {
                  "applicable_metrics": {
                    "items": {
                      "format": "int32",
                      "type": "integer"
                    },
                    "type": "array"
                  },
                  "id": {
                    "description": "the ID in a uuid format",
                    "type": "string"
                  },
                  "raw": {
                    "description": "\"raw\" evidence (for the auditor), for example the raw JSON response from the API. This does not follow a defined schema",
                    "type": "string"
                  },
                  "resource": {
                    "description": "optional; a semantic representation of the Cloud resource according to our defined ontology. a JSON serialized node of our semantic graph. This may be Clouditor-specific.",
                    "properties": {
                      "kind": {
                        "oneOf": [
                          {
                            "description": "Represents a null value.",
                            "enum": [
                              [
                                "NULL_VALUE"
                              ]
                            ],
                            "type": "string"
                          },
                          {
                            "description": "Represents a double value.",
                            "type": "number"
                          },
                          {
                            "description": "Represents a string value.",
                            "type": "string"
                          },
                          {
                            "description": "Represents a boolean value.",
                            "type": "boolean"
                          },
                          {
                            "description": "Represents a structured value.",
                            "properties": {
                              "fields": {
                                "additionalProperties": true,
                                "type": "object"
                              }
                            }
                          },
                          {
                            "description": "Represents a repeated `Value`.",
                            "properties": {
                              "values": {
                                "items": {
                                  "type": "object"
                                },
                                "type": "array"
                              }
                            }
                          }
                        ]
                      }
                    },
                    "type": "object"
                  },
                  "resource_id": {
                    "description": "reference to the resource this evidence was gathered from",
                    "type": "string"
                  },
                  "service_id": {
                    "description": "reference to a service this evidence was gathered from",
                    "type": "string"
                  },
                  "timestamp": {
                    "description": "TODO: replace with google/type/date.proto",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              "id": {
                "description": "the ID in a uuid format",
                "type": "string"
              },
              "metric_id": {
                "description": "the ID of the metric it refers to",
                "type": "string"
              },
              "result": {
                "enum": [
                  [
                    "COMPLIANT",
                    "NON_COMPLIANT"
                  ]
                ],
                "type": "string"
              },
              "target_value": {
                "type": "string"
              }
            },
            "type": "object"
          }
        },
        "type": "object"
      },
      "clouditor.UpdateAssessmentToolRequest": {
        "properties": {
          "tool": {
            "properties": {
              "available_metrics": {
                "description": "a list of metrics that this tool can assess, referred by their ids",
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "description": {
                "type": "string"
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              }
            },
            "type": "object"
          },
          "tool_id": {
            "type": "string"
          }
        },
        "type": "object"
      }
    }
  }
}